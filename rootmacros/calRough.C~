void calRough()
{
  TFile file("../sort.root");


  ofstream ofile("a.dat");
  
  ostringstream outstring;
  string name;
  //  for(int itele =0;itele <;itele++)
  //  for(int istrip = 0;istrip<32;istrip++)
  //	  ofile << itele << " " << istrip << " " << 1 << " " << 0 << endl;

  TCanvas *mycan = new TCanvas("mycan","mycan",800,600);
  int Nstrips = 128;
  for (int istrip=0;istrip<128;istrip++)
    {
      outstring.str("");
      //      outstring<< "pies/raw/P_"<<istrip;
      outstring<< "rings/raw/R_"<<istrip;
      //outstring<< "front/raw/EF"<<itele<<"_"<<istrip;
      name = outstring.str();
      TH1I * hist = (TH1I*)file.Get(name.c_str());
      hist->GetXaxis()->SetRangeUser(500,1500);
      hist->Draw();
      mycan->Modified();
      mycan->Update();
      
      
      TMarker * mark;
      double low,high;
      mark = (TMarker*) mycan->WaitPrimitive("TMarker");
      low = mark->GetX();
      delete mark;
      mark = (TMarker*) mycan->WaitPrimitive("TMarker");
      high = mark->GetX();
      double slope = (8.632-5.478)/(high-low);
      double intercept = 5.478 - slope*low;
      ofile << istrip << " " << slope << " " << intercept << endl;
      cout  << istrip << " " << low << " " << high << endl;
      
      
    }
  
  ofile.close();
  
  return;
}
